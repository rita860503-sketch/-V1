/* base */
:root{
  --bg:#061022;
  --text:#E7ECFF;
  --muted:#AAB3D1;
  --card:rgba(10,18,38,.72);
  --border:rgba(255,255,255,.12);
  --accent:#7aa6ff;
  --glow:0 0 18px rgba(122,166,255,.45), 0 0 40px rgba(170,120,255,.25);
}
*{box-sizing:border-box}
html,body{
  min-height:100%;
  margin:0;
  color:var(--text);
  font-family:"Noto Sans TC",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  background:radial-gradient(1200px 800px at 70% 10%, #132041 0%, #0b1430 40%, #061022 70%);
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  touch-action:pan-y;
}
/* sky */
.sky{position:fixed; inset:0; z-index:-2}
.stars,.twinkle{position:absolute; inset:0; background-repeat:repeat}
.stars{
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.9) 0, transparent 50%),
    radial-gradient(1.5px 1.5px at 80% 20%, rgba(255,255,255,.6) 0, transparent 50%),
    radial-gradient(1.8px 1.8px at 60% 70%, rgba(255,255,255,.8) 0, transparent 50%),
    radial-gradient(1.2px 1.2px at 30% 80%, rgba(255,255,255,.6) 0, transparent 50%);
  animation:drift 60s linear infinite;
}
.twinkle{
  background-image:
    radial-gradient(1200px 700px at 20% 30%, rgba(54,83,170,.22), transparent 50%),
    radial-gradient(900px 600px at 75% 20%, rgba(24,77,138,.20), transparent 60%),
    radial-gradient(800px 500px at 60% 80%, rgba(122,166,255,.16), transparent 60%);
  animation:twinkle 2.6s ease-in-out infinite alternate;
  filter:blur(.5px)
}
@keyframes drift{from{transform:translateY(0)}to{transform:translateY(-80px)}}
@keyframes twinkle{from{opacity:.7}to{opacity:1}}

/* layout */
.container{max-width:1100px; margin:36px auto; padding:16px;}
h1{font-weight:700; margin:0 0 16px; text-shadow:var(--glow);}
h1 .sub{font-size:.6em; color:var(--muted); margin-left:8px}
.panel{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  box-shadow:0 8px 30px rgba(0,0,0,.35);
  backdrop-filter:blur(6px);
  margin-bottom:16px
}
.two-col{display:grid; grid-template-columns:1fr 1fr; gap:16px}
.card{border:1px solid var(--border); border-radius:14px; padding:14px}
.person h2, .result-card h3{margin:0 0 10px}
.row{display:flex; flex-direction:column; gap:6px; margin-bottom:10px}
.row.inline{flex-direction:row; align-items:center; gap:8px}
input[type="date"], input[type="time"]{
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  color:var(--text);
  padding:10px 12px;
  border-radius:10px;
  outline:none;
}
input[type="date"]:focus, input[type="time"]:focus{border-color:rgba(122,166,255,.6); box-shadow:var(--glow)}

.actions{display:flex; gap:10px; margin-top:6px}
.btn{padding:10px 14px; border-radius:12px; border:1px solid var(--border); color:var(--text); background:transparent; cursor:pointer}
.btn.primary{background:linear-gradient(135deg, rgba(122,166,255,.25), rgba(170,120,255,.22))}
.btn:hover{transform:translateY(-1px); box-shadow:var(--glow)}
.btn-text{transition:opacity .3s}
.loader{display:inline-block; width:18px; height:18px; border:2px solid var(--text); border-top:2px solid transparent; border-radius:50%; animation:spin .8s linear infinite; position:absolute; opacity:0; transition:opacity .3s}
.btn.loading .btn-text{opacity:0}
.btn.loading .loader{opacity:1}
.btn.loading{pointer-events:none; opacity:.8}
@keyframes spin{to{transform:rotate(360deg)}}

.grid{display:grid; grid-template-columns:repeat(3, 1fr); gap:10px; margin-top:6px}
.cell{border:1px solid var(--border); border-radius:14px; background:rgba(255,255,255,.04); padding:10px; text-align:center}
.label{font-size:12px; color:var(--muted)}
.value{font-size:34px; font-weight:700; margin-top:6px; text-shadow:var(--glow)}
.kw{margin-top:4px; font-size:12px; color:var(--muted)}

.hints ul{margin:6px 0 0 18px; padding:0}
.hidden{display:none!important}

@media (max-width:900px){
  .two-col{grid-template-columns:1fr}
  .grid{grid-template-columns:repeat(3, 1fr)}
}
